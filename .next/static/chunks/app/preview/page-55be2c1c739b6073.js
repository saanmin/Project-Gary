(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{2856:(e,r,t)=>{Promise.resolve().then(t.bind(t,314))},314:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(5155),s=t(7370),n=t(2115),i=t(775),l=t(6046),o=t(4788);let c=e=>{let{label:r,value:t,className:s=""}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-[10rem_1fr] gap-4 items-center",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700",children:r}),(0,a.jsx)("div",{className:s,children:t})]})},d=()=>{let[e,r]=(0,n.useState)(!1),[t,d]=(0,n.useState)(!1),{state:u}=(0,i.x)(),m=u.formData,h=(0,l.useRouter)(),p=async()=>{r(!0);try{if(!(await fetch("/api/pension/company",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("제출 실패");d(!0)}catch(e){console.error("제출 실패:",e),alert("데이터 처리 중 오류가 발생했습니다.")}finally{r(!1)}},x=async()=>{try{let e=await fetch("/api/download-excel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!e.ok)throw Error("Failed to download file");let r=await e.blob(),t=window.URL.createObjectURL(r),a=document.createElement("a");a.href=t,a.download="".concat(m.companyName,"_결과.xlsx"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)}catch(e){console.error("Error downloading file:",e),alert("파일 다운로드 중 오류가 발생했습니다.")}},g=e=>{let{icon:r,title:t}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-2 pt-8",children:[(0,a.jsx)(o.In,{icon:r,width:"18",height:"18",className:"mt-1"}),(0,a.jsx)("h2",{className:"text-lg font-medium",children:t})]})};return(0,a.jsxs)("section",{className:"grid grid-cols-[16rem_1fr] px-8",children:[(0,a.jsxs)("header",{className:"grid grid-cols-subgrid col-span-2 gap-y-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold pt-8",children:"입력 내용 확인"}),(0,a.jsx)("div",{className:"max-w-[48rem] border-l border-slate-200 space-y-10 pl-8 pt-8"})]}),(0,a.jsxs)("section",{className:"grid grid-cols-subgrid col-span-2 gap-y-8",children:[(0,a.jsx)(g,{icon:"heroicons:building-office-2",title:"회사 정보"}),(0,a.jsxs)("div",{className:"max-w-[48rem] border-l border-slate-200 pl-8 pt-8 space-y-6",children:[(0,a.jsx)(c,{label:"회사명",value:m.companyName}),(0,a.jsx)(c,{label:"임금상승률 적용방식",value:1!==m.salaryEstimationMethod?"계속재직자법":"연령별승급률+베이스업"}),(0,a.jsx)(c,{label:"정년 초과자 가산연수",value:m.yearsAddedOverRetirement})]})]}),(0,a.jsxs)("section",{className:"grid grid-cols-subgrid col-span-2 gap-y-8",children:[(0,a.jsx)(g,{icon:"heroicons:calendar-days",title:"기준일 정보"}),(0,a.jsxs)("div",{className:"max-w-[48rem] border-l border-slate-200 pl-8 pt-8 space-y-6",children:[(0,a.jsx)(c,{label:"기준일",value:"".concat(m.baseDate.split("-")[0],"년 ").concat(m.baseDate.split("-")[1],"월 ").concat(m.baseDate.split("-")[2],"일")}),(0,a.jsx)(c,{label:"채권등급",value:m.companyBondRating}),(0,a.jsx)(c,{label:"기초율",value:m.useStandardRate?"표준율":"경험률"}),(0,a.jsx)(c,{label:"당기 재직자 명부",value:(0,a.jsx)("div",{className:"flex items-center gap-2",children:m.files.currentYear?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.In,{icon:"vscode-icons:file-type-excel",width:"16",height:"16"}),(0,a.jsx)("span",{children:m.files.currentYear.name})]}):(0,a.jsx)("span",{className:"text-slate-500",children:"N/A"})})})]})]}),(0,a.jsxs)("section",{className:"grid grid-cols-subgrid col-span-2",children:[(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:"flex justify-end items-center gap-4 max-w-[48rem] border-l border-slate-200 pl-8 pt-8 pb-10",children:[!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.$,{variant:"outline",onClick:()=>h.push("/"),children:"이전으로"}),(0,a.jsx)(s.$,{onClick:p,disabled:e,className:"bg-slate-800 text-white hover:bg-slate-700",children:(0,a.jsxs)("span",{className:"flex items-center",children:[e&&(0,a.jsx)(o.In,{icon:"svg-spinners:180-ring-with-bg",width:"16",height:"16",className:"mr-2"}),e?"처리 중...":"제출하기"]})})]}),t&&(0,a.jsxs)("div",{className:"flex justify-end items-center gap-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"output.xlsx"}),(0,a.jsxs)(s.$,{onClick:x,className:"bg-green-600 text-white hover:bg-green-500 flex items-center gap-2",children:[(0,a.jsx)(o.In,{icon:"heroicons:arrow-down-tray-20-solid",width:"16",height:"16"}),"엑셀 파일 다운로드"]})]})]})]})]})}},7370:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var a=t(5155),s=t(2115),n=t(2317),i=t(1027),l=t(7849);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:t})),ref:r,...d})});c.displayName="Button"},775:(e,r,t)=>{"use strict";t.d(r,{O:()=>o,x:()=>c});var a=t(5155),s=t(2115);let n={formData:{companyName:"",baseDate:(0,t(5895).bd)(),companyBondRating:"",salaryEstimationMethod:1,yearsAddedOverRetirement:0,jobTypeInfo:"",isUnder300Employees:1,useStandardRate:!0,files:{currentYear:null,previousYear:null,twoPreviousYear:null,threePreviousYear:null}},validationErrors:{companyName:!1,baseDate:!1,companyBondRating:!1,currentYearFile:!1},dateError:!1,showNextSection:!1,isCompanyInfoDisabled:!1,activeSection:"companyInfo"},i=(e,r)=>{switch(r.type){case"UPDATE_FORM_DATA":return{...e,formData:{...e.formData,[r.field]:r.value}};case"UPDATE_FILE":return{...e,formData:{...e.formData,files:{...e.formData.files,[r.fileType]:r.file}},validationErrors:"currentYear"===r.fileType?{...e.validationErrors,currentYearFile:!r.file}:e.validationErrors};case"UPDATE_VALIDATION_ERROR":return{...e,validationErrors:{...e.validationErrors,[r.field]:r.value}};case"RESET_VALIDATION_ERRORS":return{...e,validationErrors:r.errors||{companyName:!1,baseDate:!1,companyBondRating:!1,currentYearFile:!1}};case"SET_DATE_ERROR":return{...e,dateError:r.value};case"SET_SHOW_NEXT_SECTION":return{...e,showNextSection:r.value};case"SET_COMPANY_INFO_DISABLED":return{...e,isCompanyInfoDisabled:r.value};case"SET_ACTIVE_SECTION":return{...e,activeSection:r.value};default:return e}},l=(0,s.createContext)();function o(e){let{children:r}=e,[t,o]=(0,s.useReducer)(i,n);return(0,a.jsx)(l.Provider,{value:{state:t,dispatch:o},children:r})}function c(){let e=(0,s.useContext)(l);if(!e)throw Error("useFormContext must be used within a FormProvider");return e}},7849:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(3463),s=t(9795);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},5895:(e,r,t)=>{"use strict";t.d(r,{Jj:()=>s,ZV:()=>n,bd:()=>a});let a=()=>{let e=new Date,r=e.getMonth(),t=new Date(e.getFullYear(),3*Math.floor(r/3),0),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(s,"-").concat(n)},s=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return"";try{let[t,a,s]=e.replace(/[\s_]/g,"").split("-");if(!t||!a||!s)return"";return"".concat(parseInt(t)-r,"년 ").concat(a,"월 ").concat(s,"일 기준")}catch(e){return""}},n=e=>{if(8!==e.length)return!1;let r=parseInt(e.slice(0,4)),t=parseInt(e.slice(4,6)),a=parseInt(e.slice(6,8)),s=new Date(r,t-1,a);return s.getFullYear()===r&&s.getMonth()===t-1&&s.getDate()===a}}},e=>{var r=r=>e(e.s=r);e.O(0,[12,980,441,898,358],()=>r(2856)),_N_E=e.O()}]);